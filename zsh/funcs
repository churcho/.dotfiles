#!/usr/bin/env zsh

ga() { git add "$@"; }
gc() { git commit "$@"; }
gcb() { git checkout -b "$@"; }
gco() { git checkout "$@"; }
gcm() { git checkout master; }
gl() { git log --graph "$@"; }
gpull() { git pull "$@"; }
gpush() { git push "$@"; }
gd() { git diff "$@"; }
gs() { git status "$@"; }
gwip() {
  git add .
  git commit -m "WIP"
}
pull-with-changes() {
  gwip
  git pull -r
  unwrap-last-commit
}
path() {
  echo $PATH | sed 's/:/\
/g'
}

fv() {
  file="$(fzf)"
  case "$file" in
    "") echo "fv cancelled";;
    *) vim "$file";;
  esac
}

fmv() {
  file="$(fzf)"
  case "$file" in
    "") echo "fv cancelled";;
    *) mvim "$file";;
  esac
}

aliases() {
  if [ -f ~/.zsh/aliases ]; then
    cat ~/.zsh/aliases
  fi

  if [ -f ~/.zsh/aliases.local ]; then
    cat ~/.zsh/aliases.local
  fi
}

funcs() {
  if [ -f ~/.zsh/funcs ]; then
    cat ~/.zsh/funcs
  fi

  if [ -f ~/.zsh/funcs.local ]; then
    cat ~/.zsh/funcs.local
  fi
}

rr() {
  case "$#" in
    0) bin/rails routes;;
    *) bin/rails routes | ag "$@";;
  esac
}

pr() {
  case "$#" in
    0) mix phx.routes;;
    *) mix phx.routes | ag "$@";;
  esac
}
